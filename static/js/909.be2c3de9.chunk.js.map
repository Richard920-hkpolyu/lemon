{"version":3,"file":"static/js/909.be2c3de9.chunk.js","mappings":"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","sources":["components/Header.js"],"sourcesContent":["import { Box, HStack, Image, Menu,\r\n    MenuButton,\r\n    MenuList,\r\n    MenuItem, useDisclosure, Button, Text } from \"@chakra-ui/react\";\r\nimport React, { useEffect, useRef, useState} from \"react\";\r\nimport Logo from \"../images/Header_Logo.png\";\r\nimport {Link} from 'react-router-dom';\r\nimport { useScreenSize } from \"../context/ScreenSizeContext\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faBasketShopping, faHouse, faBars, faBowlFood, faTruck,faUser } from '@fortawesome/free-solid-svg-icons';\r\nconst Header = () => {\r\n    const headerRef = useRef(null);\r\n    const [cartCount, setCartCount] = useState(0);\r\n    const handleClick = () => {\r\n        isOpen ? onClose() : onOpen();\r\n    };\r\n    useEffect(() => {\r\n        let prevScrollPos = window.scrollY;\r\n        const threshold = 120;\r\n        const handleScroll = () => {\r\n            const currentScrollPos = window.scrollY;\r\n            const headerElement = headerRef.current;\r\n            if (!headerElement) return;\r\n            // Check if the user is at the top of the page\r\n            if (currentScrollPos < threshold) {\r\n                headerElement.style.transform = \"translateY(0)\";\r\n            } else if (prevScrollPos > currentScrollPos) {\r\n                headerElement.style.transform = \"translateY(0)\";\r\n            } else {\r\n                headerElement.style.transform = \"translateY(-200px)\";\r\n            }\r\n            prevScrollPos = currentScrollPos;\r\n        };\r\n        window.addEventListener('scroll', handleScroll); // type, listener\r\n        return () => { // Clean up resources to improve app responsiveness\r\n            window.removeEventListener('scroll', handleScroll);\r\n        };\r\n    }, []);//在效果完成後執行一次,第二個輸入項目是e.g.當[]改變時執行\r\n//var handleClick = function(anchor) {\r\n//  return function() {};\r\n//};\r\n    // const handleClick = (anchor) => () => {\r\n    //     const id = `${anchor}-section`;\r\n    //     const element = document.getElementById(id);\r\n    //     if(element){\r\n    //         element.scrollIntoView({\r\n    //             behavior: \"smooth\",\r\n    //             block: \"start\",\r\n    //         });\r\n    //     }\r\n    // };\r\n    const { isOpen, onOpen, onClose } = useDisclosure();\r\n    const { items, page } = useScreenSize();\r\n    const totalCount = (items) => {\r\n        return items.reduce((total, item) => total + item.count, 0);\r\n    };\r\n    useEffect(() => {\r\n        //console.log(\"items222:\",items);\r\n        setCartCount(totalCount(items));\r\n        headerRef.current.style.transform = \"translateY(0)\";\r\n    },[items]);\r\n\r\n    return (\r\n        <Box\r\n            position=\"fixed\"\r\n            top={0}\r\n            left={0}\r\n            right={0}\r\n            color=\"#333333\"\r\n            background=\"#FFFFFF\"\r\n            translateY={0}\r\n            transitionProperty=\"transform\"\r\n            transitionDuration=\".3s\"\r\n            transitionTimingFunction=\"ease-in-out\"\r\n            ref={headerRef}\r\n            zIndex=\"modal\"\r\n        >\r\n            <Box color=\"white\" maxWidth=\"1280px\" margin=\"0 auto\">\r\n                <HStack py={2} justifyContent=\"space-between\" alignItems=\"center\">\r\n                    <Menu isOpen={isOpen}>\r\n                        <MenuButton\r\n                            as={Button}\r\n                            borderWidth='0px'\r\n                            onMouseEnter={onOpen}\r\n                            onMouseLeave={onClose}\r\n                            onClick={(e) => {\r\n                                // Check if the device is not mobile\r\n                                if (window.innerWidth <= 768) { // Assuming 768px is the breakpoint for mobile\r\n                                    handleClick(e);\r\n                                }\r\n                            }}\r\n                        >\r\n                            <FontAwesomeIcon icon={faBars} color=\"#333333\" size=\"2x\"/>\r\n                        </MenuButton>\r\n                        <MenuList\r\n                            transition=\"opacity 0.3s ease-in-out, transform 0.3s ease-in-out\"\r\n                            transform={isOpen ? 'translateY(0)' : 'translateY(-10px)'}\r\n                            paddingBottom={5}\r\n                            color=\"#333333\"\r\n                            minWidth={{ base: '100vw', md: '400px' }}\r\n                            onMouseEnter={onOpen}\r\n                            onMouseLeave={onClose}\r\n                            onClick={onClose}>\r\n                            <Link to=\"/\"><MenuItem borderRadius=\"lg\" _hover={{color:\"#EDEFEE\", backgroundColor:\"#495E57\"}} backgroundColor={page === 'homepage' ? \"#495E57\" : null} color={page === 'homepage' ? \"#FFFFFF\" : null}><FontAwesomeIcon icon={faHouse} size=\"1x\"/>&nbsp;Homepage</MenuItem></Link>\r\n                            <Link to=\"/reservation\"><MenuItem borderRadius=\"lg\" _hover={{color:\"#EDEFEE\", backgroundColor:\"#495E57\"}} backgroundColor={page === 'reservation' ? \"#495E57\" : null} color={page === 'reservation' ? \"#FFFFFF\" : null}><FontAwesomeIcon icon={faBowlFood} size=\"1x\"/>&nbsp;Reserve a Table</MenuItem></Link>\r\n                            <Link to=\"/order-online\"><MenuItem borderRadius=\"lg\" _hover={{color:\"#EDEFEE\", backgroundColor:\"#495E57\"}} backgroundColor={page === 'orderonline' ? \"#495E57\" : null} color={page === 'orderonline' ? \"#FFFFFF\" : null}><FontAwesomeIcon icon={faTruck} size=\"1x\"/>&nbsp;Order Online</MenuItem></Link>\r\n                            <Link to=\"/cart\"><MenuItem borderRadius=\"lg\" _hover={{color:\"#EDEFEE\", backgroundColor:\"#495E57\"}} backgroundColor={page === 'cart' ? \"#495E57\" : null} color={page === 'cart' ? \"#FFFFFF\" : null}><FontAwesomeIcon icon={faBasketShopping} size=\"1x\"/>&nbsp;Cart</MenuItem></Link>\r\n                            <Link to=\"/login\"><MenuItem borderRadius=\"lg\" _hover={{color:\"#EDEFEE\", backgroundColor:\"#495E57\"}} backgroundColor={page === 'login' ? \"#495E57\" : null} color={page === 'login' ? \"#FFFFFF\" : null}><FontAwesomeIcon icon={faUser} size=\"1x\"/>&nbsp;Login</MenuItem></Link>\r\n                        </MenuList>\r\n                    </Menu>\r\n                    <Link to=\"/\"><Image src={Logo} width=\"160px\" height=\"42px\"fit=\"cover\" draggable=\"false\"/></Link>\r\n                    <Link to=\"/cart\">\r\n                        <HStack px='10px'>\r\n                            {cartCount > 0 ? (\r\n                                <Text\r\n                                color=\"#EDEFEE\"\r\n                                padding=\"0.1rem 0.45rem 0.2rem\"\r\n                                position=\"relative\"\r\n                                marginTop=\"-2rem\"\r\n                                marginRight=\"-1rem\"\r\n                                backgroundColor=\"#FC2063\"\r\n                                borderRadius=\"9px 8px 0px 9px\"\r\n                                fontSize={{ base: '0.6rem', md: '1rem' }}\r\n                                fontWeight=\"bold\"\r\n                                >{cartCount}</Text>\r\n                            ) : null}\r\n                            <FontAwesomeIcon icon={faBasketShopping} color=\"#333333\" size=\"2x\"/>\r\n                        </HStack>\r\n                    </Link>\r\n                </HStack>\r\n            </Box>\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default Header;"],"names":["Header","headerRef","useRef","cartCount","setCartCount","useState","useEffect","prevScrollPos","window","scrollY","handleScroll","currentScrollPos","headerElement","current","style","transform","addEventListener","removeEventListener","isOpen","onOpen","onClose","useDisclosure","items","page","useScreenSize","reduce","total","item","count","totalCount","_jsx","Box","position","top","left","right","color","background","translateY","transitionProperty","transitionDuration","transitionTimingFunction","ref","zIndex","children","maxWidth","margin","_jsxs","HStack","py","justifyContent","alignItems","Menu","MenuButton","as","Button","borderWidth","onMouseEnter","onMouseLeave","onClick","e","innerWidth","FontAwesomeIcon","icon","faBars","size","MenuList","transition","paddingBottom","minWidth","base","md","Link","to","MenuItem","borderRadius","_hover","backgroundColor","faHouse","faBowlFood","faTruck","faBasketShopping","faUser","Image","src","Logo","width","height","fit","draggable","px","Text","padding","marginTop","marginRight","fontSize","fontWeight"],"sourceRoot":""}